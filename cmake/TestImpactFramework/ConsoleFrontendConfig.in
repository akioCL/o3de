{
  "meta": {
    "platform": "${platform}",
    "version": "${version}",
    "timestamp": "${timestamp}"
  },
  "repo": {
    "root": "${repo_dir}"
  },
  "workspace": {
    "temp_dir": "${temp_dir}",
    "test_impact_data_file": "${test_impact_data_file}"
  },
  "artifacts": {
    "static": {
      "build_target_descriptor": {
        "dir": "${source_target_mapping_dir}",
        "target_sources": {
          "static": {
            "include_filters": [
              ".h", ".hpp", ".hxx", ".inl", ".c", ".cpp", ".cxx"
            ]
          },
          "autogen": {
            "input_output_pairer": "(.*)\\..*",
            "input": {
              "include_filters": [
                ".xml"
              ]
            }
          } 
        }
      },
      "dependency_graph_data": {
        "dir": "${target_dependency_dir}",
        "matchers": {
          "target_dependency_file": "target\\.(.*)\\.(dependers)?",
          "target_vertex": "(?:(.*)\\n|(.*)"
        }
      },
      "test_target_meta": {
        "file": "${test_target_type_file}"
      }
    }
  },
  "test_engine": {
    "test_run": {
      "enumeration_args": "--gtest_list_tests --gtest_output=xml:\"{test_shard_selection_file}\"",
      "test_runner": {
        "bin": "${test_runner_bin}",
        "run_args": "\"{[target.dir]}\\{test_target}.dll\" AzRunUnitTests",
        "shard_args": "--args_from_file \"{test_enumeration_file}\""
      }
    },
    "instrumentation": {
      "bin": "${instrumentation_bin}",
      "source_coverage_args": "--coverage_level source",
      "line_coverage_args": "--coverage_level line",
      "run_args": "--modules \"{[target.dir]}\" --excluded_modules \"{[test_engine.test_run.test_runner.bin]}\" --sources \"{[repo.root]}\" {coverage_type} --export_type cobertura:\"{test_run_coverage_file}\" -- "
    }
  },
  "target": {
    "dir": "${bin_dir}",
    "exclude": [
      {
        "target": "AssetBundler.Tests",
        "tests": [
          "*"
        ]
      },
      {
        "target": "AssetProcessor.Tests",
        "tests": [
          "*"
        ]
      },
      {
        "target": "CryRenderD3D11.Tests",
        "tests": [
          "*"
        ]
      },
      {
        "target": "CryRenderD3D12.Tests",
        "tests": [
          "*"
        ]
      },
      {
        "target": "LyzardApplicationDescriptors.Tests",
        "tests": [
          "*"
        ]
      },
      {
        "target": "EMotionFX.Editor.Tests",
        "tests": [
          "UIFixture.*",
          "SimulatedObjectModelTestsFixture.*",
          "TestParametersFixture.*",
          "CanSeeJointsFixture.*",
          "LODSkinnedMeshFixtureTests/LODSkinnedMeshFixture.CheckLODLevels/*"
        ]
      },
      {
        "target": "EMotionFX.Tests",
        "tests": [
          "UIFixture.*",
          "SimulatedObjectModelTestsFixture.*",
          "TestParametersFixture.*",
          "CanSeeJointsFixture.*"
        ]
      },
      {
        "target": "AzCore.Tests",
        "tests": [
          "AllocatorsTestFixtureLeakDetectionDeathTest_SKIPCODECOVERAGE.AllocatorLeak"
        ]
      }
    ],
    "shard": [
      {
        "policy": "fixture_contiguous",
        "target": "AzCore.Tests"
      },
      {
        "policy": "fixture_contiguous",
        "target": "AzToolsFramework.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "Framework.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "LmbrCentral.Editor.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "EditorLib.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "PhysX.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "ImageProcessing.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "Atom_RPI.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "Atom_RHI.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "AzManipulatorFramework.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "WhiteBox.Editor.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "ImageProcessing.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "AzManipulatorTestFramework.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "AtomCore.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "ImageProcessingAtom.Editor.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "EditorPythonBindings.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "Atom_Utils.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "AudioEngineWwise.Editor.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "Multiplayer.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "LmbrCentral.Tests"
      },
      {
        "policy": "fixture_contiguous",
        "target": "LyMetricsShared.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "PhysX.Editor.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "ComponentEntityEditorPlugin.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "DeltaCataloger.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "GradientSignal.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "LyShine.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "EMotionFX.Editor.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "EMotionFX.Tests"
      },
      {
        "policy": "test_interleaved",
        "target": "CrySystem.Tests"
      }
    ]
  }
}